# エピック概要

**📚 ドキュメントインデックス**: [DOCUMENTATION_INDEX.md](./DOCUMENTATION_INDEX.md)

## 概要

このドキュメントは、プロジェクト内のすべてのエピックの概要とストーリー一覧を整理したドキュメントです。GitHub Issue作成時や進捗管理時に参照してください。

**関連ドキュメント**:
- [USER_STORIES.md](./USER_STORIES.md): モバイルアプリのユーザーストーリー
- [ADMIN_USER_STORIES.md](./ADMIN_USER_STORIES.md): 管理画面のユーザーストーリー
- [WEB_USER_STORIES.md](./WEB_USER_STORIES.md): 公式サイトのユーザーストーリー
- [ISSUE_GUIDELINES.md](./ISSUE_GUIDELINES.md): GitHub Issue作成ガイドライン

---

## モバイルアプリ（USER_STORIES.md）

### Epic 1: 認証・ユーザー管理
**概要**: ユーザーの認証とプロフィール管理機能

**ストーリー**:
- US-001: ユーザー登録
- US-002: ログイン
- US-003: プロフィール編集

**優先度**: Phase 1（必須）

**関連画面**:
- `app/(auth)/register.tsx`
- `app/(auth)/login.tsx`
- `app/settings/profile.tsx`
- `app/(tabs)/profile.tsx`

---

### Epic 2: ペット管理
**概要**: ペットの登録、編集、削除、年齢表示、バースデー演出などの管理機能

**ストーリー**:
- US-004: ペット登録
- US-005: ペット一覧表示
- US-005-1: ペットの年齢表示
- US-005-2: ペットのバースデー演出
- US-005-3: 成長の節目通知
- US-006: ペットプロフィール編集
- US-007: ペット削除
- US-007-1: ペット復元

**優先度**: Phase 1（必須）

**関連画面**:
- `app/pets/register.tsx`
- `app/(tabs)/pets.tsx`
- `app/pets/[id]/index.tsx`
- `app/pets/[id]/edit.tsx`
- `app/settings/deleted-pets.tsx`

---

### Epic 3: 活動ログ記録・リマインダー・広告表示 ✅ **2026年更新**
**概要**: ペットの日常活動（食事、トイレ、散歩、日記、ケア）の記録、リマインダー設定、広告表示機能

**ストーリー**:
- US-008, US-008-1: 食事記録（画像アップロード含む）
- US-009: トイレ記録 ✅ **2026年更新 - 種別ごとの最適化された選択肢**
- US-010: 散歩記録
- US-011: 日記投稿 ✅ **2026年更新 - シーン・感情・タグによる簡単記録**
- US-012: ケア記録
- US-013, US-013-1: タイムライン表示 ✅ **2026年追加 - フィルター・リマインダー完了状況**
- US-014: リマインダー設定 ✅ **2026年追加 - 掃除のタイマー・リマインダー**
- US-015: リマインダー通知と完了 ✅ **2026年追加 - Push通知と完了記録**
- US-018: 広告表示（無料ユーザー）✅ **2026年追加 - さりげない広告配置**
- US-073: 日記のシーン・感情マスターデータ表示 ✅ **2026年追加**
- US-074: 日記のフィルタリング（シーン・感情・時間帯・場所）✅ **2026年追加**
- US-075: 多機能リアクション ✅ **2026年追加**
- US-076: 日記の自動タグ付け（シーン連携）✅ **2026年追加**
- US-065: オフライン画像アップロード（キュー管理と再試行）✅ **2026年最終設計検証で追加**
- US-066: 同時編集の競合解決（楽観的ロック）✅ **2026年最終設計検証で追加**

**優先度**: Phase 1（必須）

**関連画面**:
- `app/pets/[id]/activities/[type].tsx`
- `app/(tabs)/timeline.tsx`
- `app/timeline/[id].tsx`
- `app/timeline/filters.tsx`
- `app/reminders/index.tsx`
- `app/reminders/create.tsx`
- `app/reminders/[id].tsx`

---

### Epic 4: ダッシュボード・統計
**概要**: 今日のサマリー、体重推移グラフ、統計情報、活動ログの編集・削除機能

**ストーリー**:
- US-016: 今日のサマリー表示
- US-017: 体重推移グラフ
- US-072: 統計情報表示
- US-077: 活動ログ編集
- US-078, US-078-1: 活動ログ削除・復元

**優先度**: Phase 1（必須）

**関連画面**:
- `app/(tabs)/index.tsx`
- `app/pets/[id]/statistics.tsx`
- `app/timeline/[id].tsx`
- `app/settings/deleted-activities.tsx`

---

### Epic 5: プレミアム機能 ✅ **機能制限とUXをシームレスに繋ぐ設計**
**概要**: プレミアム会員登録、権限管理、解除理由収集、退会、メモリアルプラン

**ストーリー**:
- US-019, US-019-1, US-019-2, US-019-3, US-019-4: プレミアム会員登録・権限管理
- US-055: プレミアム解除理由の収集
- US-056: 退会理由の収集
- US-067: 追悼（メモリアル）プランの導入 ✅ **2026年最終設計検証で追加**

**優先度**: Phase 1（必須）

**関連画面**:
- `app/settings/premium.tsx`
- `app/settings/account-deletion.tsx`
- `app/settings/memorial.tsx`

---

### Epic 6: コラム・記事機能（Phase 1後半 / Phase 2）✅ **信頼性向上・フック機能**
**概要**: 管理者が投稿した信頼できるコラム・記事の閲覧機能

**ストーリー**:
- US-026: コラム一覧表示
- US-027: コラム詳細表示
- US-028: レコメンドコラム表示（最高優先度）
- US-029: コラム検索

**注意**: コラム投稿機能は管理画面側の機能です。`ADMIN_USER_STORIES.md`のEpic ADM-1を参照してください。

**優先度**: Phase 1（必須）

**関連画面**:
- `app/(tabs)/articles.tsx`
- `app/articles/index.tsx`
- `app/articles/[id].tsx`
- `app/articles/search.tsx`

---

### Epic 7: AI相談機能（Phase 1後半 / Phase 2）✅ **キラー機能**
**概要**: ペットのカルテ情報を活用したAI相談機能（RAGベース）

**ストーリー**:
- US-020: AI相談の開始
- US-021: ペットのカルテ情報を活用した相談
- US-022: 信頼できる知識ベースからの回答
- US-023: 緊急度の判定と病院案内
- US-024: チャット履歴の表示
- US-025: 推奨アクションの表示

**優先度**: Phase 1（必須）

**関連画面**:
- `app/ai-chat/index.tsx`
- `app/ai-chat/[threadId].tsx`

---

### Epic 8: 共同管理（Phase 2）
**概要**: 家族やチームでペットを共同管理する機能

**ストーリー**:
- US-033: 共同管理者の追加
- US-034: 共同管理者一覧表示
- US-035: 権限の変更
- US-036: 共同管理者の削除
- US-037: 共有ペット一覧表示
- US-038: 共有ペットへの記録

**優先度**: Phase 2（高優先度）

**関連画面**:
- `app/pets/[id]/index.tsx`（設定メニューから）
- `app/(tabs)/pets.tsx`（共有ペットタブ）

---

### Epic 9: SNS機能（Phase 3）✅ **2026年版モダンSNS・信頼性重視**
**概要**: フォロー機能、グローバルフィード、いいね機能、種別フィルター

**ストーリー**:
- US-039: フォロー中・おすすめタブ切り替え（最高）✅ **2026年版モダンSNS**
- US-040: フォロー機能
- US-041: グローバルフィード表示
- US-042: いいね機能 ✅ **2026年更新 - 多機能リアクション**
- US-043: 種別フィルター
- US-075: 多機能リアクション ✅ **2026年追加 - いいね機能の拡張**

**2026年版SNSの「信頼性」**:
- 専門家（獣医師など）が「いいね」した投稿には特別なバッジが表示される
- 信頼できる飼い主の証として、一定期間以上記録を続けているユーザーや、専門家から「いいね」を受けたユーザーには特別なバッジが表示される
- これにより、SNSが単なる写真共有ではなく、「信頼できる実体験の宝庫」になる

**優先度**: Phase 3（中〜高）

**関連画面**:
- `app/feed/index.tsx`
- `app/feed/following.tsx`
- `app/feed/recommended.tsx`
- `app/(tabs)/profile.tsx`（他のユーザーのプロフィール）

---

### Epic 10: 商品データベース（Phase 3）
**概要**: ペット用品（餌、トイレ用品など）の検索、詳細表示、登録機能

**ストーリー**:
- US-044: 商品検索 ✅ **2026年更新 - 体験をよくする検索機能**
- US-045: 商品詳細表示 ✅ **2026年更新 - アソシエイトAPI情報の表示**
- US-046: 商品登録（ユーザー投稿） ✅ **2026年更新 - アソシエイトAPI連携**

**注意**: 商品承認機能（US-047）は管理画面側の機能です。`ADMIN_USER_STORIES.md`のEpic ADM-3を参照してください。

**優先度**: Phase 3（中〜高）

**関連画面**:
- `app/products/index.tsx`
- `app/products/[id].tsx`
- `app/products/register.tsx`

---

### Epic 11: レビュー機能（Phase 3）
**概要**: 商品（特に餌）のレビュー投稿、一覧表示、ランキング機能

**ストーリー**:
- US-048: レビュー投稿 ✅ **2026年更新 - 餌のレビューに特化した詳細情報**
- US-049: レビュー一覧表示
- US-050: 種別ごとの人気商品ランキング

**優先度**: Phase 3（中〜高）

**関連画面**:
- `app/products/reviews/create.tsx`
- `app/products/reviews/[productId].tsx`
- `app/products/ranking.tsx`

---

### Epic 12: 画像・動画管理機能 ✅ **Convexのプライシングを考慮した設計・Cloudflare R2移行**
**概要**: 画像・動画の最高画質表示、ダウンロード、編集、枚数制限、オフラインアップロード、競合解決、動画のアップロード・再生・制限

**ストーリー**:
- US-051: 画像の最高画質表示
- US-052: 画像ダウンロード
- US-053: 画像編集（スタンプ・文字入れ）
- US-054: 画像枚数制限の案内
- US-065: オフライン画像アップロード（キュー管理と再試行）✅ **2026年最終設計検証で追加**
- US-066: 同時編集の競合解決（楽観的ロック）✅ **2026年最終設計検証で追加**
- US-092: 動画のアップロード ✅ **2026年追加 - Cloudflare R2移行**
- US-093: 動画の再生 ✅ **2026年追加 - Cloudflare R2移行**
- US-094: 動画の制限と案内 ✅ **2026年追加 - Cloudflare R2移行**
- US-095: 動画のダウンロード ✅ **2026年追加 - Cloudflare R2移行**

**優先度**: Phase 1（必須）

**関連画面**:
- `app/timeline/[id].tsx`
- `app/albums/[id].tsx`
- `app/pets/[id]/activities/[type].tsx`（画像・動画アップロード時）

**備考**: Cloudflare R2への移行により、コスト削減とパフォーマンス向上を実現 ✅ **2026年追加**

---

### Epic 13: ユーザーフィードバック機能 ✅ **温かみのある離脱対応**
**概要**: プレミアム解除理由と退会理由の収集機能

**ストーリー**:
- US-055: プレミアム解除理由の収集
- US-056: 退会理由の収集

**優先度**: Phase 2（高優先度）

**関連画面**:
- `app/settings/premium.tsx`
- `app/settings/account-deletion.tsx`

---

### Epic 14: メモリアル機能 ✅ **非常にセンシティブな項目 - 思い出の保護**
**概要**: ペットが亡くなった際のメモリアルモード、思い出のアルバム作成、振り返り機能

**ストーリー**:
- US-057: 虹の橋を渡る（メモリアルモードへの移行）
- US-058: 思い出のアルバム作成・エクスポート
- US-059: メモリアルモードでの振り返り
- US-067: 追悼（メモリアル）プランの導入 ✅ **2026年最終設計検証で追加**

**優先度**: Phase 2（高優先度）

**関連画面**:
- `app/settings/memorial.tsx`
- `app/pets/[id]/index.tsx`（メモリアルモード時）
- `app/albums/create.tsx`

---

### Epic 15: アルバム管理機能 ✅ **思い出をテーマ別に整理**
**概要**: アルバムの作成、編集、共有、共同編集機能

**ストーリー**:
- US-060: アルバム作成
- US-061: アルバムに日記・写真を追加
- US-062: アルバム一覧・詳細表示
- US-063: アルバムの共有・送信（プレミアム限定）
- US-064: アルバムの共同編集（プレミアム限定）

**優先度**: Phase 2（高優先度）

**関連画面**:
- `app/albums/index.tsx`
- `app/albums/[id].tsx`
- `app/albums/create.tsx`

---

### Epic 16: 管理者厳選のキュレーション機能 ✅ **外部記事の紹介**
**概要**: 管理者が厳選した外部記事の閲覧、保存機能

**ストーリー**:
- US-079: 管理者厳選のキュレーション一覧表示（アプリ側）
- US-080: キュレーション記事の閲覧（アプリ側）
- US-081: キュレーション記事の「あとで読む」機能（アプリ側）
- US-082: キュレーション記事をアルバムに保存（アプリ側）

**注意**: キュレーション記事の登録・編集機能は管理画面側の機能です。`ADMIN_USER_STORIES.md`のEpic ADM-2を参照してください。

**優先度**: Phase 3（中〜高）

**関連画面**:
- `app/curation/index.tsx`
- `app/curation/[id].tsx`

---

### Epic 17: ゲーミフィケーション要素 ✅ **2026年追加 - 習慣化と収益性の両立**
**概要**: ポイント獲得、バッジ獲得、ショップ機能、プロフィール表示

**ストーリー**:
- US-068: ポイント獲得システム（活動ログ記録でポイント獲得）
- US-069: バッジ獲得システム（達成条件を満たすとバッジ獲得）
- US-070: ショップ機能（ポイントでアイテム交換、または現金で購入）
- US-071: プロフィール画面でのバッジ・アイテム表示
- US-083: 所持ポイント確認 ✅ **2026年追加 - ポイント管理**
- US-084: ポイント取得方法確認 ✅ **2026年追加 - ポイント管理**
- US-088: ポイント取得履歴確認 ✅ **2026年追加 - ポイント管理**
- US-085: ショップ一覧表示 ✅ **2026年追加 - ショップ機能**
- US-086: 交換済みアイテム確認 ✅ **2026年追加 - ショップ機能**
- US-087: 交換アイテム詳細確認 ✅ **2026年追加 - ショップ機能**

**優先度**: Phase 3（中〜高）

**関連画面**:
- `app/points/index.tsx`
- `app/points/history.tsx`
- `app/points/methods.tsx`
- `app/shop/index.tsx`
- `app/shop/[id].tsx`
- `app/shop/my-items.tsx`
- `app/(tabs)/profile.tsx`

---

## 管理画面（ADMIN_USER_STORIES.md）

### Epic ADM-1: コラム・記事管理機能
**概要**: 管理者がコラム・記事を投稿、編集、削除する機能

**ストーリー**:
- ADM-001: コラム投稿（管理者）
- ADM-002: AI執筆サポート（管理者）
- ADM-003: 記事の信頼性チェック（管理者）

**優先度**: Phase 1（必須）

---

### Epic ADM-2: キュレーション記事管理機能
**概要**: 管理者が外部記事を厳選してキュレーション記事として登録する機能

**ストーリー**:
- ADM-004: キュレーション記事の登録（管理者）
- ADM-005: キュレーション記事の編集・削除（管理者）

**優先度**: Phase 1（必須）

---

### Epic ADM-3: 商品データベース管理機能
**概要**: 商品データベースの閲覧、承認、管理機能

**ストーリー**:
- ADM-006: 商品一覧・詳細閲覧（運営）✅ **2026年追加**
- ADM-007: 商品承認（運営）
- ADM-008: 商品データベースの管理（運営）

**優先度**: Phase 3（低優先度）

---

### Epic ADM-4: ユーザー管理機能
**概要**: ユーザー一覧表示、プレミアム会員管理機能

**ストーリー**:
- ADM-009: ユーザー一覧表示（管理者）
- ADM-010: プレミアム会員の管理（管理者）

**優先度**: Phase 3（低優先度）

---

### Epic ADM-5: 統計・分析機能
**概要**: アプリの統計情報表示機能

**ストーリー**:
- ADM-011: アプリの統計情報表示（管理者）

**優先度**: Phase 3（低優先度）

---

### Epic ADM-6: 監視・アラート機能 ✅ **2026年追加 - サービス停止防止**
**概要**: Convexリソース監視、Discord日報送信、Better Stack連携、アラート設定

**ストーリー**:
- ADM-012: Convexリソース監視ダッシュボード表示（管理者）✅ **2026年追加 - サービス停止防止**
- ADM-013: Discord日報送信設定と履歴確認（管理者）✅ **2026年追加 - 自動レポート**
- ADM-014: Better Stack連携設定（管理者）✅ **2026年追加 - 高度な監視**
- ADM-015: アラート設定（管理者）✅ **2026年追加 - リソース枯渇防止**

**優先度**: Phase 3（高優先度 - サービス停止防止のため）

---

## 公式サイト（WEB_USER_STORIES.md）

### Epic WEB-1: トップページ・機能紹介
**概要**: トップページと機能詳細ページの表示

**ストーリー**:
- WEB-001: トップページ表示
- WEB-002: 機能詳細ページ表示

**優先度**: Phase 1（必須）

---

### Epic WEB-2: ニュース・更新情報
**概要**: ニュース・更新情報の一覧表示、詳細表示、管理機能

**ストーリー**:
- WEB-003: ニュース・更新情報一覧表示
- WEB-004: ニュース詳細ページ表示
- WEB-005: ニュース・更新情報の管理（管理者）

**優先度**: Phase 1（必須）

---

### Epic WEB-3: 法務ドキュメント
**概要**: プライバシーポリシー、利用規約、特定商取引法表記の表示と管理

**ストーリー**:
- WEB-007: プライバシーポリシー表示
- WEB-008: 利用規約表示
- WEB-009: 特定商取引法に基づく表記表示
- WEB-010: 法務ドキュメントの管理（管理者）

**優先度**: Phase 1（必須）

---

### Epic WEB-4: SEO・LLM最適化
**概要**: SEO最適化とLLMフレンドリーな構成

**ストーリー**:
- WEB-013: SEO最適化
- WEB-014: LLMフレンドリーな構成

**優先度**: Phase 2（高優先度）

---

### Epic WEB-5: ブランド戦略・UI/UXガイドライン ✅ **2026年追加**
**概要**: ビジュアル・アイデンティティ、UIコンポーネントの共通化、ストーリーテリング型のコンテンツ構成

**ストーリー**:
- WEB-015: ビジュアル・アイデンティティ（幸福の想起）✅ **2026年追加 - ブランド戦略**
- WEB-016: UIコンポーネントの共通化と拡張 ✅ **2026年追加 - モノレポ活用**
- WEB-017: ストーリーテリング型のコンテンツ構成 ✅ **2026年追加 - ブランド戦略**
- WEB-018: FAQセクションの構造化 ✅ **2026年追加 - SEO・LLM最適化**

**優先度**: Phase 2（高優先度）

---

### Epic WEB-6: モノレポ運用・自動更新 ✅ **2026年追加**
**概要**: ニュース・更新情報の自動更新、法務ドキュメントの一元管理

**ストーリー**:
- WEB-019: ニュース・更新情報の自動更新 ✅ **2026年追加 - モノレポ運用**
- WEB-020: 法務ドキュメントの一元管理 ✅ **2026年追加 - モノレポ運用**

**優先度**: Phase 2（高優先度）

---

### Epic WEB-7: グローバル公開データの閲覧（将来機能）
**概要**: グローバル公開データのギャラリー表示、個別ページ表示

**ストーリー**:
- WEB-011: グローバル公開データのギャラリー表示
- WEB-012: グローバル公開データの個別ページ表示

**優先度**: Phase 3（将来機能）

---

## エピック間の依存関係

### 主要な依存関係

1. **Epic 17（ゲーミフィケーション）はEpic 3（活動ログ記録）に依存**
   - ポイント獲得システムは活動ログ記録機能が必要

2. **Epic 4（ダッシュボード・統計）はEpic 3（活動ログ記録）に依存**
   - 統計情報は活動ログデータが必要

3. **Epic 7（AI相談）はEpic 2（ペット管理）とEpic 3（活動ログ記録）に依存**
   - ペットのカルテ情報と活動ログが必要

4. **Epic 15（アルバム管理）はEpic 3（活動ログ記録）とEpic 12（画像・動画管理）に依存** ✅ **2026年更新**
   - 日記と画像が必要

5. **Epic 16（キュレーション）はEpic ADM-2（キュレーション記事管理）に依存**
   - キュレーション記事の登録機能が必要

---

## エピック単位での進捗管理

### 進捗管理の方法

1. **エピック単位でのIssue管理**: 各エピックに属するストーリーをIssue化
2. **依存関係の確認**: 依存するエピックが完了しているか確認
3. **優先度の確認**: 各エピックの優先度を確認し、実装順序を決定

### 進捗管理の例

```
Epic 3: 活動ログ記録・リマインダー・広告表示
├── US-008: 食事記録 [✅ 完了]
├── US-009: トイレ記録 [🔄 実装中]
├── US-010: 散歩記録 [⏳ 待機]
└── US-011: 日記投稿 [⏳ 待機]
```

---

**作成日**: 2026年2月1日  
**最終更新**: 2026年2月1日
