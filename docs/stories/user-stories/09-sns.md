# Epic 9: SNS機能

**📚 インデックス**: [USER_STORIES_INDEX.md](../USER_STORIES_INDEX.md)

## SNS機能

#### US-039: フォロー中・おすすめタブ切り替え ✅ **2026年版モダンSNS**
**画面パス**: `app/feed/index.tsx`（タブ切り替え）
**As a** SNS機能を利用するユーザー  
**I want to** 「フォロー中」と「おすすめ」のタブを切り替える  
**So that** フォローしている人の投稿と、自分に関連性の高い投稿を効率的に見分けられる

**受け入れ基準**:
- 画面上部にSegmented Controlが表示される
- 「おすすめ」と「フォロー中」の2つのタブがある
- タブを切り替えると、即座にフィードが更新される（Convexのリアルタイム更新）
- 「フォロー中」タブでは、フォローしているユーザーの公開投稿が時系列で表示される
- 「おすすめ」タブでは、人気投稿、関連性の高い投稿、フォローしている人がいいねした投稿がミックスされて表示される
- スクロール位置が保持される（タブ切り替え後も元の位置に戻れる）
- 無限スクロールに対応している

**体験価値**:
- **効率性**: フォローしている人の投稿と、おすすめ投稿を簡単に切り替えられる
- **パーソナライズ**: おすすめタブで自分に関連性の高い投稿を発見できる
- **リアルタイム**: Convexのリアルタイム更新により、新しい投稿が即座に反映される

**使用シーン**:
- フォローしている人の最新投稿を確認する時
- 新しいペット飼い主や興味深い投稿を発見したい時
- 同じ種別のペットを飼っている人の投稿を見たい時

**優先度**: 最高（Phase 3の核心機能）

---

---

#### US-040: フォロー機能
**画面パス**: `app/feed/index.tsx`, `app/(tabs)/profile.tsx`（他のユーザーのプロフィール）
**As a** ユーザー  
**I want to** 他のユーザーをフォローする  
**So that** 気に入った飼い主の投稿を継続的に見られる

**受け入れ基準**:
- ユーザーのプロフィール画面で「フォロー」ボタンをタップできる
- フォロー後、「フォロー中」ボタンに変わる
- フォロー解除ができる
- フォローしている人の一覧が表示される
- フォロワー一覧が表示される
- フォロー状態がリアルタイムで更新される

**体験価値**:
- **継続性**: 気に入った飼い主の投稿を継続的に見られる
- **コミュニティ**: フォロー関係を通じてコミュニティが形成される

**使用シーン**:
- 同じ種別のペットを飼っている飼い主をフォローする
- 参考になる投稿をしている飼い主をフォローする

**優先度**: 高

---

---

#### US-041: グローバルフィード表示
**画面パス**: `app/feed/index.tsx`
**As a** 同じペットを飼っている仲間とつながりたい飼い主  
**I want to** 他のユーザーが公開した日記を見る  
**So that** 同じ種別のペットを飼っている仲間の記録を見て、参考にしたり、共感したり、コミュニティの一員として楽しめる

**受け入れ基準**:
- 公開設定がpublicの日記が美しいフィード形式で表示され、スクロールして楽しめる
- 時系列で表示され、最新の投稿から順番に見られる
- いいね数が表示され、人気の投稿が一目で分かる
- 無限スクロールで過去の投稿をスムーズに読み込める
- 種別フィルターで興味のあるペットの投稿だけを見られる
- 投稿者情報が表示され、同じ種別のペットを飼っている仲間を見つけやすい
- 写真が美しく表示され、ペットの可愛らしさを楽しめる

**体験価値**:
- **コミュニティ**: 同じペットを飼っている仲間とつながり、孤独感を減らせる
- **学習**: 他の飼い主の記録を見て、自分のペット管理の参考になる
- **楽しさ**: 可愛いペットの写真や日記を見て、日常に楽しみが増える

**使用シーン**:
- 同じ種別のペットを飼っている仲間の記録を見る
- 新しいペットを迎えた時、先輩飼い主の記録を参考にする
- 暇な時間に可愛いペットの写真を見て楽しむ

**優先度**: 高

---

---

#### US-042: いいね機能 ✅ **2026年更新 - 多機能リアクション**
**画面パス**: `app/timeline/[id].tsx`, `app/feed/index.tsx`
**As a** ユーザー  
**I want to** 公開日記にリアクションをする  
**So that** 気に入った投稿に反応でき、信頼できる情報を他のユーザーと共有できる

**受け入れ基準**:
- **多機能リアクション**: リアクションボタンを長押しすると、複数のリアクションタイプから選択できる ✅ **2026年追加**
  - ❤️ 大好き/共感
  - 🌻 癒やされた
  - 💪 応援してる/頑張れ
  - 🌟 キラキラした瞬間
  - 🌈 虹の橋のあちら側への祈り/想い
- リアクションを選択すると、そのリアクションが投稿に追加される
- リアクションの取り消しができる
- 投稿ごとにリアクションタイプ別の数が表示される
- **専門家（獣医師など）がリアクションした投稿には特別なバッジが表示される**（例：「獣医師が推奨」バッジ）
- **信頼できる飼い主の証**として、一定期間以上記録を続けているユーザーや、専門家からリアクションを受けたユーザーには特別なバッジが表示される
- 専門家のリアクションは通常のリアクションとは区別され、信頼性の指標として表示される
- 「専門家が推奨」バッジが付いた投稿は、おすすめフィードで優先的に表示される

**体験価値**:
- **表現力**: 単なる「いいね」だけでなく、より細かい感情を表現できる ✅ **2026年追加**
- **信頼性**: 専門家がリアクションした投稿を見ることで、信頼できる情報を発見できる
- **コミュニティ**: 信頼できる飼い主の投稿を識別でき、質の高い情報にアクセスできる
- **モチベーション**: 専門家からリアクションを受けることで、記録を続けるモチベーションが上がる
- **共感**: 同じ感情を抱いた人とつながれる ✅ **2026年追加**

**使用シーン**:
- 公開日記を見て、リアクションしたい時
- 虹の橋を渡ったペットの日記に🌈リアクションする時
- 専門家が推奨した投稿を見て、信頼できる情報を参考にする
- 自分の投稿に専門家がリアクションしてくれて、モチベーションが上がる

**優先度**: 高（Phase 3の信頼性向上機能）

---

---

#### US-043: 種別フィルター
**画面パス**: `app/feed/index.tsx`
**As a** ユーザー  
**I want to** 特定の種別のペットの投稿だけを見る  
**So that** 興味のあるペットの投稿を絞り込める

**受け入れ基準**:
- 種別でフィルターできる
- フィルター後、該当する投稿のみ表示される

**優先度**: 中

---

### 商品データベース

---

#### US-075: 多機能リアクション ✅ **2026年追加 - いいね機能の拡張**
**画面パス**: `app/timeline/[id].tsx`, `app/feed/index.tsx`
**As a** ユーザー  
**I want to** 公開日記に複数のリアクションから選択できる  
**So that** 単なる「いいね」だけでなく、より細かい感情を表現できる

**受け入れ基準**:
- リアクションボタンを長押しすると、複数のリアクションタイプが表示される
- 以下のリアクションタイプから選択できる:
  - ❤️ 大好き/共感
  - 🌻 癒やされた
  - 💪 応援してる/頑張れ
  - 🌟 キラキラした瞬間
  - 🌈 虹の橋のあちら側への祈り/想い
- リアクションを選択すると、そのリアクションが投稿に追加される
- リアクションの取り消しができる
- 投稿ごとにリアクションタイプ別の数が表示される
- **専門家（獣医師など）がリアクションした投稿には特別なバッジが表示される**

**体験価値**:
- **表現力**: 単なる「いいね」だけでなく、より細かい感情を表現できる
- **コミュニケーション**: 言葉の壁を越えたコミュニケーションが可能（グローバル公開時）
- **共感**: 同じ感情を抱いた人とつながれる

**使用シーン**:
- 公開日記を見て、リアクションしたい時
- 虹の橋を渡ったペットの日記に🌈リアクションする時
- 専門家が推奨した投稿にリアクションする時

**優先度**: 高（Phase 3の信頼性向上機能）

---

---

