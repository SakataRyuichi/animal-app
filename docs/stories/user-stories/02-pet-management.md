# Epic 2: ペット管理

**📚 インデックス**: [USER_STORIES_INDEX.md](../USER_STORIES_INDEX.md)

## ペット管理

#### US-004: ペット登録
**画面パス**: `app/pets/register.tsx`  
**As a** 新しい家族（ペット）を迎えた飼い主  
**I want to** ペットの基本情報を簡単に登録する  
**So that** ペットの成長記録を残し始められ、将来的に健康管理の履歴として活用できる大切な記録の第一歩を刻める

**受け入れ基準**:
- ペット名、種別、品種、性別、誕生日を直感的なUIで入力できる
- 誕生日を入力すると、自動で年齢と人間換算年齢が計算される（例: "2歳（人間換算: 約24歳）"）✅ **US-005-1と連動**
- 珍しい種別（爬虫類、小動物など）も「その他」から自由入力でき、すべてのペットが等しく管理できる
- プロフィール画像を撮影または選択でき、ペットの個性が一目で分かる
- 登録後、すぐに記録を始められるよう、記録画面への導線が表示される
- 登録完了時に「これから一緒に健康管理をしていきましょう」という温かいメッセージが表示される

**体験価値**:
- **記念性**: ペットとの生活の始まりを記録する特別な瞬間を大切にできる
- **包括性**: どんな種類のペットでも、同じように大切に管理できる安心感
- **継続性**: 登録後すぐに記録を始められることで、習慣化への第一歩を踏み出せる

**使用シーン**:
- ペットショップから新しい家族を迎えた日
- 保護施設から引き取った日
- 多頭飼いで新しいペットを追加する時

**優先度**: 最高

---

---

#### US-005-1: ペットの年齢表示
**画面パス**: `app/pets/[id]/index.tsx`  
**As a** ペット飼い主  
**I want to** ペットの年齢と人間換算年齢を確認する  
**So that** ペットの成長段階を理解し、適切なケアができる

**受け入れ基準**:
- ペット詳細画面に実年齢が表示される（例: "2歳3ヶ月"）
- 人間換算年齢も同時に表示される（例: "人間換算: 約24歳"）
- 種別（犬・猫・爬虫類など）に応じた適切な換算が適用される
- 誕生日が未設定の場合は「年齢不明」と表示される
- 年齢は自動で算出され、手動で更新する必要がない

**体験価値**:
- **成長の実感**: ペットの成長段階を人間の年齢で理解できる
- **適切なケア**: 年齢に応じた適切なケアプランを立てられる
- **自動更新**: 誕生日を設定すれば、年齢は自動で更新される

**使用シーン**:
- ペット詳細画面で年齢を確認する時
- 健康診断やワクチン接種のタイミングを確認する時
- ペットの成長を振り返る時

**優先度**: 高

---

---

#### US-005: ペット一覧表示
**画面パス**: `app/(tabs)/pets.tsx`  
**As a** ペット飼い主  
**I want to** 自分が管理しているペットの一覧を見る  
**So that** どのペットの記録をするか選択できる

**受け入れ基準**:
- 登録済みのペットが一覧で表示される
- プロフィール画像、名前、種別が表示される
- 年齢が表示される（例: "2歳（人間換算: 約24歳）"）✅ **US-005-1と連動**
- タップでペット詳細画面に遷移する

**優先度**: 最高

---

---

#### US-006: ペットプロフィール編集
**画面パス**: `app/pets/[id]/edit.tsx`  
**As a** ペット飼い主  
**I want to** ペットのプロフィール情報を編集する  
**So that** 最新の情報を反映できる

**受け入れ基準**:
- 名前、種別、品種、性別、誕生日を変更できる
- 誕生日を変更すると、自動で年齢と人間換算年齢が再計算される ✅ **US-005-1と連動**
- 体重、去勢/避妊情報を更新できる
- 自己紹介、性格タグを追加・編集できる
- プロフィール画像を変更できる

**優先度**: 高

---

---

#### US-007: ペット削除
**画面パス**: `app/pets/[id]/index.tsx`（削除アクション）  
**As a** ペット飼い主  
**I want to** 登録したペットを削除する  
**So that** 不要になったペット情報を削除できる

**受け入れ基準**:
- 削除確認ダイアログが表示される
- 削除時に「後から元に戻せます（30日間）」というメッセージが表示される
- 削除後、ペット一覧から消える（論理削除）
- 関連する活動ログも論理削除される
- 削除理由を選択できる（誤操作、お別れ、データ整理など）

**体験価値**:
- **安心感**: 誤操作で削除しても、後から復元できる安心感
- **思い出の保護**: お別れしたペットの記録も、一定期間は復元可能

**優先度**: 中

---

---

#### US-007-1: ペット復元
**画面パス**: `app/settings/deleted-pets.tsx`  
**As a** ペット飼い主  
**I want to** 削除したペットを復元する  
**So that** 誤操作で削除したペットの記録を元に戻せる

**受け入れ基準**:
- 設定画面に「削除したペット」セクションが表示される
- 削除したペットが一覧で表示され、削除日時と残り復元可能日数が表示される
- 「残りあと◯日で完全に消去されます」というメッセージが表示される
- 復元ボタンをタップすると、ペットと関連する活動ログが復元される
- 復元後、ペット一覧に表示される

**体験価値**:
- **安心感**: 誤操作で削除しても、後から復元できる安心感
- **思い出の保護**: お別れしたペットの記録も、一定期間は復元可能

**使用シーン**:
- 誤操作でペットを削除してしまった時
- お別れしたペットの記録を振り返りたい時

**優先度**: 中

---

### 活動ログ記録

---

#### US-005-2: ペットのバースデー演出
**画面パス**: `app/pets/[id]/index.tsx`（バースデー当日）
**As a** ペット飼い主  
**I want to** ペットの誕生日をお祝いする  
**So that** ペットとの特別な日を記念できる

**受け入れ基準**:
- アプリを開いた際、今日がペットの誕生日だと判定されたら、画面に小さな紙吹雪を降らせる
- 「◯◯くん、お誕生日おめでとうございます！🎉」という温かいメッセージが表示される
- バースデーカードのような特別なUIが表示される（オプション）
- 誕生日の記録を残せる（日記として自動保存される）

**体験価値**:
- **記念性**: ペットとの特別な日を大切にできる
- **楽しさ**: バースデー演出でアプリを使う楽しみが増える
- **思い出の記録**: 誕生日の記録が自動で残る

**使用シーン**:
- ペットの誕生日の朝、アプリを開いた時
- 誕生日の記録を残したい時

**優先度**: 中

---

---

#### US-005-3: 成長の節目通知
**画面パス**: `app/pets/[id]/index.tsx`（通知から遷移）
**As a** ペット飼い主  
**I want to** ペットの成長の節目を知る  
**So that** ペットとの時間を大切に感じられる

**受け入れ基準**:
- 「今日で◯◯くんがうちに来てからちょうど1年が経ちました！」といった通知が表示される
- 1ヶ月、3ヶ月、6ヶ月、1年、2年などの節目で通知される
- 通知をタップすると、記念日の詳細画面が表示される
- 記念日の記録を残せる（日記として自動保存される）

**体験価値**:
- **成長の実感**: ペットとの時間を大切に感じられる
- **継続のモチベーション**: 記録を続けるモチベーションが上がる
- **思い出の記録**: 成長の節目が自動で記録される

**使用シーン**:
- ペットを迎えてから1ヶ月が経った時
- ペットを迎えてから1年が経った時

**優先度**: 中

---

### コラム・記事機能（Phase 1後半 / Phase 2）✅ **信頼性向上・フック機能**

---

